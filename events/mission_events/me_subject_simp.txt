namespace = me_subject_simp

## Mission 1a - An economic vassal - start
me_subject_simp.1 = {
    type = country_event
    title = me_subject_simp.1.t
    desc = me_subject_simp.1.desc
    picture = dagger_behind_back

    option = {
        name = me_subject_simp.1.a
    }
}
## Mission 1a - An economic vassal - end

## Mission 2a - Improving the capital city - start
me_subject_simp.5 = {
    type = country_event
    title = me_subject_simp.5.t
    desc = me_subject_simp.5.desc
    picture = dagger_behind_back

    option = {
        name = me_subject_simp.5.a
    }
}
## Mission 2a - Improving the capital city - end

## Mission 3a - Increase Income - start
me_subject_simp.6 = {
    type = country_event
    title = me_subject_simp.6.t
    desc = me_subject_simp.6.desc
    picture = dagger_behind_back

    option = {
        name = me_subject_simp.6.a
    }
}
## Mission 3a - Increase Income - end

## Mission 4a - Optimize Research - start
me_subject_simp.7 = {
    type = country_event
    title = me_subject_simp.7.t
    desc = me_subject_simp.7.desc
    picture = dagger_behind_back

    option = {
        name = me_subject_simp.7.a
    }
}
## Mission 4a - Optimize Research - end

## Mission 6a - Optional: Trade Goods - start
me_subject_simp.8 = {
    type = country_event
    title = me_subject_simp.8.t
    desc = me_subject_simp.8.desc
    picture = dagger_behind_back

    option = {
        name = me_subject_simp.8.a
    }
}
## Mission 6a - Optional: Trade Goods - end

## Mission 7a - Optional: Trade Port - start
me_subject_simp.9 = {
    type = country_event
    title = me_subject_simp.9.t
    desc = me_subject_simp.9.desc
    picture = dagger_behind_back

    option = {
        name = me_subject_simp.9.a
    }
}
## Mission 7a - Optional: Trade Port - end


## Mission 1b - A military vassal - start
me_subject_simp.20 = {
    type = country_event
    title = me_subject_simp.20.t
    desc = me_subject_simp.20.desc
    picture = dagger_behind_back

    option = {
        name = me_subject_simp.20.a
    }
}
## Mission 1b - A military vassal - end

## Mission 2b - Increase Reserves - start
me_subject_simp.25 = {
    type = country_event
    title = me_subject_simp.25.t
    desc = me_subject_simp.25.desc
    picture = dagger_behind_back

    option = {
        name = me_subject_simp.25.a
    }
}
## Mission 2b - Increase Reserves - end

## Mission 3b - Legion Law - start
me_subject_simp.26 = {
    type = country_event
    title = me_subject_simp.26.t
    desc = me_subject_simp.26.desc
    picture = dagger_behind_back

    option = {
        name = me_subject_simp.26.a
    }
}
## Mission 3b - Legion Law - end

## Mission 4b - Standing Army - start
me_subject_simp.27 = {
    type = country_event
    title = me_subject_simp.27.t
    desc = me_subject_simp.27.desc
    picture = dagger_behind_back

    option = {
        name = me_subject_simp.27.a
    }
}
## Mission 4b - Standing Army - end

## Mission 6b - Optional: Foreign general - start
me_subject_simp.28 = {
    type = country_event
    title = me_subject_simp.28.t
    desc = me_subject_simp.28.desc
    picture = dagger_behind_back

    option = {
        name = me_subject_simp.28.a
    }
}
## Mission 6b - Optional: Foreign general - end

## Mission 7b - Optional: Military Experience - start
me_subject_simp.29 = {
    type = country_event
    title = me_subject_simp.29.t
    desc = me_subject_simp.29.desc
    picture = dagger_behind_back

    option = {
        name = me_subject_simp.29.a
    }
}
## Mission 7b - Optional: Military Experience - end


## Mission 1c - Overlord Support - start
me_subject_simp.40 = {  # Subject initial event
    type = country_event
    title = me_subject_simp.40.t
    desc = me_subject_simp.40.desc
    picture = dagger_behind_back

    option = {
        name = me_subject_simp.40.a
    }
}

me_subject_simp.41 = {  # Overlord event
    type = country_event
    title = me_subject_simp.41.t
    desc = me_subject_simp.41.desc
    picture = dagger_behind_back

    option = {
        name = me_subject_simp.41.a
    }
}

me_subject_simp.42 = {  # Subject final event
    type = country_event
    title = me_subject_simp.42.t
    desc = me_subject_simp.42.desc
    picture = dagger_behind_back

    option = {
        name = me_subject_simp.42.a
    }
}
## Mission 1c - Overlord Support - end

## Mission 2c - Provincial Investments #1 - start
me_subject_simp.45 = {  # Subject initial event
    type = country_event
    title = me_subject_simp.45.t
    desc = me_subject_simp.45.desc
    picture = dagger_behind_back

    option = {  # Ask for a lot
        name = me_subject_simp.45.a
        custom_tooltip = me_subject_simp.45.at
        set_variable = {
            name = prov_inv_1_big
            days = 240
        }
        scope:our_overlord = {
            trigger_event = {
                id = me_subject_simp.46
                days = 30
            }
        }
    }

    option = {  # Ask for a little
        name = me_subject_simp.45.b
        custom_tooltip = me_subject_simp.45.bt
        scope:our_overlord = {
            trigger_event = {
                id = me_subject_simp.46
                days = 30
            }
        }
    }

    option = {  # Pay for it yourself
        name = me_subject_simp.45.c
        add_political_influence = -80
        change_variable = {
            name = prov_inv_1
            add = 1
        }
    }
}

me_subject_simp.46 = {  # Overlord decision event
    type = country_event
    title = me_subject_simp.46.t
    desc = me_subject_simp.46.desc
    picture = dagger_behind_back

    option = {      # Pay for the big
        trigger = {
            scope:willing_subject = {
                has_variable = prov_inv_1_big
            }
        }
        name = me_subject_simp.46.a
        custom_tooltip = me_subject_simp.46.at
        set_variable = {
            name = prov_inv_1_paid_big
            days = 240
        }
        scope:willing_subject = {
            change_variable = {
                name = prov_inv_1
                add = 2
            }
        }
        add_political_influence = -80
        ai_chance = {
            base = 2
        }
    }

    option = {      # Pay for the little
        name = me_subject_simp.46.b
        custom_tooltip = me_subject_simp.46.bt
        set_variable = {
            name = prov_inv_1_paid_small
            days = 240
        }
        scope:willing_subject = {
            change_variable = {
                name = prov_inv_1
                add = 1
            }
        }
        add_political_influence = -40
        ai_chance = {
            base = 2
        }
    }

    option = {      # Don't pay for it
        name = me_subject_simp.46.c
        set_variable = {
            name = prov_inv_1_no_pay
            days = 240
        }
        ai_chance = {
            base = 0
        }
    }

    after = {
        scope:willing_subject = {
            trigger_event = {
                id = me_subject_simp.47
            }
        }
    }
}

me_subject_simp.47 = {  # Subject final event
    type = country_event
    title = me_subject_simp.47.t
    desc = {
        first_valid = {
            triggered_desc = {
                trigger = {
                    scope:our_overlord = {
                        has_variable = prov_inv_1_paid_big
                    }
                }
                desc = me_subject_simp.47.desc_1
            }
            triggered_desc = {
                trigger = {
                    scope:our_overlord = {
                        has_variable = prov_inv_1_paid_small
                    }
                }
                desc = me_subject_simp.47.desc_2
            }
            triggered_desc = {
                trigger = {
                    scope:our_overlord = {
                        has_variable = prov_inv_1_no_pay
                    }
                }
                desc = me_subject_simp.47.desc_3
            }
        }
    }
    picture = dagger_behind_back

    option = {
        name = me_subject_simp.47.a
    }
}
## Mission 2c - Provincial Investments #1 - end

## Mission 3c - Provincial Investments #2 - start
me_subject_simp.48 = {  # Subject initial event
    type = country_event
    title = me_subject_simp.48.t
    desc = me_subject_simp.48.desc
    picture = dagger_behind_back

    option = {  # Ask for a lot
        name = me_subject_simp.48.a
        custom_tooltip = me_subject_simp.48.at
        set_variable = {
            name = prov_inv_2_big
            days = 240
        }
        scope:our_overlord = {
            trigger_event = {
                id = me_subject_simp.49
                days = 30
            }
        }
    }

    option = {  # Ask for a little
        name = me_subject_simp.48.b
        custom_tooltip = me_subject_simp.48.bt
        scope:our_overlord = {
            trigger_event = {
                id = me_subject_simp.49
                days = 30
            }
        }
    }

    option = {  # Pay for it yourself
        name = me_subject_simp.48.c
        add_political_influence = -80
        change_variable = {
            name = prov_inv_2
            add = 1
        }
    }
}

me_subject_simp.49 = {  # Overlord decision event
    type = country_event
    title = me_subject_simp.49.t
    desc = me_subject_simp.49.desc
    picture = dagger_behind_back

    option = {      # Pay for the big
        trigger = {
            scope:willing_subject = {
                has_variable = prov_inv_2_big
            }
        }
        name = me_subject_simp.49.a
        custom_tooltip = me_subject_simp.49.at
        set_variable = {
            name = prov_inv_2_paid_big
            days = 240
        }
        scope:willing_subject = {
            change_variable = {
                name = prov_inv_2
                add = 2
            }
        }
        add_political_influence = -80
        ai_chance = {
            base = 2
        }
    }

    option = {      # Pay for the little
        name = me_subject_simp.49.b
        custom_tooltip = me_subject_simp.49.bt
        set_variable = {
            name = prov_inv_2_paid_small
            days = 240
        }
        scope:willing_subject = {
            change_variable = {
                name = prov_inv_2
                add = 1
            }
        }
        add_political_influence = -40
        ai_chance = {
            base = 2
        }
    }

    option = {      # Don't pay for it
        name = me_subject_simp.49.c
        set_variable = {
            name = prov_inv_2_no_pay
            days = 240
        }
        ai_chance = {
            base = 0
        }
    }

    after = {
        scope:willing_subject = {
            trigger_event = {
                id = me_subject_simp.50
            }
        }
    }
}

me_subject_simp.50 = {  # Subject final event
    type = country_event
    title = me_subject_simp.50.t
    desc = {
        first_valid = {
            triggered_desc = {
                trigger = {
                    scope:our_overlord = {
                        has_variable = prov_inv_2_paid_big
                    }
                }
                desc = me_subject_simp.50.desc_1
            }
            triggered_desc = {
                trigger = {
                    scope:our_overlord = {
                        has_variable = prov_inv_2_paid_small
                    }
                }
                desc = me_subject_simp.50.desc_2
            }
            triggered_desc = {
                trigger = {
                    scope:our_overlord = {
                        has_variable = prov_inv_2_no_pay
                    }
                }
                desc = me_subject_simp.50.desc_3
            }
        }
    }
    picture = dagger_behind_back

    option = {
        name = me_subject_simp.50.a
    }
}
## Mission 3c - Provincial Investments #2 - end

## Mission 4c - Optional: Overlord boosts your government - start
me_subject_simp.51 = {  # Subject initial event
    type = country_event
    title = me_subject_simp.51.t
    desc = me_subject_simp.51.desc
    picture = dagger_behind_back

    option = {
        name = me_subject_simp.51.a
    }
}

me_subject_simp.52 = {  # Overlord event
    type = country_event
    title = me_subject_simp.52.t
    desc = me_subject_simp.52.desc
    picture = dagger_behind_back

    option = {
        name = me_subject_simp.52.a
    }
}

me_subject_simp.53 = {  # Subject final event
    type = country_event
    title = me_subject_simp.53.t
    desc = me_subject_simp.53.desc
    picture = dagger_behind_back

    option = {
        name = me_subject_simp.53.a
    }
}
## Mission 4c - Optional: Overlord boosts your government - end

## Mission 5c - Optional: Gain control of capital area - start
me_subject_simp.54 = {  # Subject initial event
    type = country_event
    title = me_subject_simp.54.t
    desc = me_subject_simp.54.desc
    picture = dagger_behind_back

    option = {
        name = me_subject_simp.54.a
    }
}

me_subject_simp.55 = {  # Overlord decision event
    type = country_event
    title = me_subject_simp.55.t
    desc = me_subject_simp.55.desc
    picture = dagger_behind_back

    option = {  # Give everything available
        name = me_subject_simp.55.a
        custom_tooltip = me_subject_simp.55.at
        scope:willing_subject = {
            set_variable = {
                name = capital_region_transfer_all
                days = 180
            }
        }
        hidden_effect = {
            every_subject = {
                limit = {
                    NOT = {
                        this = scope:willing_subject
                        is_subject_type = tributary
                        is_subject_type = vassal_tribe
                        is_subject_type = subject_mercenary_city_state
                        is_subject_type = subject_colony
                        is_subject_type = subject_league_city_state
                    }
                    any_owned_province = {
                        is_in_area = scope:willing_subject.capital_scope
                    }
                }
                trigger_event = {
                    id = me_subject_simp.57
                }
            }
        }
    }

    option = {  # Give only land that belongs to subjects
        name = me_subject_simp.55.b
        custom_tooltip = me_subject_simp.55.bt
        scope:willing_subject = {
            set_variable = {
                name = capital_region_transfer_subjects
                days = 180
            }
        }
        hidden_effect = {
            every_subject = {
                limit = {
                    NOT = {
                        this = scope:willing_subject
                        is_subject_type = tributary
                        is_subject_type = vassal_tribe
                        is_subject_type = subject_mercenary_city_state
                        is_subject_type = subject_colony
                        is_subject_type = subject_league_city_state
                    }
                    any_owned_province = {
                        is_in_area = scope:willing_subject.capital_scope
                    }
                }
                trigger_event = {
                    id = me_subject_simp.57
                }
            }
        }
    }

    option = {  # Give only land you own directly (no subject's land)
        name = me_subject_simp.55.c
        custom_tooltip = me_subject_simp.55.ct
        scope:willing_subject = {
            set_variable = {
                name = capital_region_transfer_overlord
                days = 180
            }
        }
        ai_chance = {
            base = 0
        }
    }
    
    option = {  # Don't give anything
        name = me_subject_simp.55.d
        ai_chance = {
            base = 0
        }
    }
}

me_subject_simp.56 = {  # Subject final event
    type = country_event
    title = me_subject_simp.56.t
    desc = {
        first_valid = {
            triggered_desc = {
                trigger = {
                    has_variable = capital_region_transfer_all
                }
                desc = me_subject_simp.56.desc_1
            }
            triggered_desc = {
                trigger = {
                    has_variable = capital_region_transfer_subjects
                }
                desc = me_subject_simp.56.desc_2
            }
            triggered_desc = {
                trigger = {
                    has_variable = capital_region_transfer_overlord
                }
                desc = me_subject_simp.56.desc_3
            }
            triggered_desc = {
                trigger = {
                    NOT = {
                        has_variable = capital_region_transfer_all
                        has_variable = capital_region_transfer_subjects
                        has_variable = capital_region_transfer_overlord
                    }
                }
                desc = me_subject_simp.56.desc_4
            }
        }
    }
    picture = dagger_behind_back

    immediate = {
        random_country = {
            limit = {
                has_variable = subject_that_refused
            }
            scope:willing_subject = {
                declare_war_with_wargoal = {
                    war_goal = conquer_wargoal
                    province = prev.capital_scope
                    target = prev
                }
            }
            remove_variable = subject_that_refused
            random_current_war = {
                limit = {
                    any_war_participant = {
                        this = scope:willing_subject
                    }
                    any_war_participant = {
                        this = prev
                    }
                    is_war_leader = scope:willing_subject
                }
                set_variable = {
                    name = special_subject_simp_war
                }
                save_scope_as = gtfo_war_scope
            }
        }
    }

    option = {
        name = me_subject_simp.56.a
    }

    after = {
        every_country = {
            limit = {
                has_variable = subject_that_refused
            }
            add_to_war = {
                target = scope:gtfo_war_scope
                attacker = no
                leader = no
            }
        }
        scope:our_overlord = {
            add_to_war = {
                target = scope:gtfo_war_scope
                attacker = yes
                leader = no
            }
        }
	}
}

me_subject_simp.57 = {  # Other subject's choice to accept
    type = country_event
    title = me_subject_simp.57.t
    desc = me_subject_simp.57.desc
    picture = dagger_behind_back

    option = {  # Give up your land
        name = me_subject_simp.57.a
        custom_tooltip = me_subject_simp.57.at
        ai_chance = {
            base = 0
        }
    }

    option = {  # Refuse and plan to declare war
        name = me_subject_simp.57.b
        custom_tooltip = me_subject_simp.57.bt
        set_variable = {
            name = subject_that_refused
            days = 180
        }
    }
}
## Mission 5c - Optional: Gain control of capital area - end