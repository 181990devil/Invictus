country_decisions = {
	
	found_school = {
		
		potential = {
			any_owned_province = {
				OR = {
					has_building = academy_building
					has_building = library_building
				}
			}
			OR = {
				any_character = {
					has_character_modifier = philosopher
					NOT = { has_character_modifier = scholarch }
				}	
				any_country = {
						OR = {
							this = root
							in_diplomatic_range = root
						}
					any_character = {
							has_character_modifier = philosopher
							NOT = { has_character_modifier = scholarch }
							has_any_office = no
							is_governor = no
							in_command = no
							is_admiral = no
					}
				}
			}
		}
		
		# highlight = {
			# scope:province = {
				# root.capital_scope
			# }
		# }
		
		allow = {
			treasury >= 200
			any_owned_province = {
				OR = {
					AND = {
						num_of_academy_building >= 1
						num_of_library_building >= 1
						NOR = {
							has_province_modifier = resident_scholarch
							has_province_modifier = resident_scholarch_2
							has_province_modifier = resident_scholarch_3
						}
					}
					
					AND = {
						has_province_modifier = resident_scholarch
						num_of_academy_building >= 2
						num_of_library_building >= 2
						NOR = {
							has_province_modifier = resident_scholarch_2
							has_province_modifier = resident_scholarch_3
						}
					}
					
					AND = {
						has_province_modifier = resident_scholarch_2
						num_of_academy_building >= 3
						num_of_library_building >= 3
						NOT = {
							has_province_modifier = resident_scholarch_3
						}
					}
				}
					# has_province_modifier = epicurean_scholarch
					# has_province_modifier = stoic_scholarch
					# has_province_modifier = platonist_scholarch
					# has_province_modifier = peripatetic_scholarch
					# has_province_modifier = sceptic_scholarch
					# has_province_modifier = academic_scholarch
				# }
			}
			# save_scope_as = new_school_city
		}
		
		effect = {
			custom_tooltip = "found_school_tooltip"
			add_treasury = {
				value = -200
			}
			random_owned_province = {
				limit = {
					OR = {
						AND = {
							num_of_academy_building >= 3
							NOR = {
								has_province_modifier = resident_scholarch
								has_province_modifier = resident_scholarch_2
								has_province_modifier = resident_scholarch_3
							}
						}
						
						AND = {
							has_province_modifier = resident_scholarch
							num_of_academy_building >= 6
							NOR = {
								has_province_modifier = resident_scholarch_2
								has_province_modifier = resident_scholarch_3
							}
						}
						
						AND = {
							has_province_modifier = resident_scholarch_2
							num_of_academy_building >= 9
							NOT = {
								has_province_modifier = resident_scholarch_3
							}
						}
					}
				}
				save_scope_as = new_school_city
			}
			

			scope:new_school_city = {
			# capital_scope = {
				if = {
					limit = { 
						NOR = {
							has_province_modifier = resident_scholarch
							has_province_modifier = resident_scholarch_2
						}							
					}
					add_province_modifier = {
						name = resident_scholarch
						duration = -1
					}
					show_model = "building_greek_academy"
				}
				else_if = {
					limit = { has_province_modifier = resident_scholarch }
					remove_province_modifier = resident_scholarch	
					add_province_modifier = {
						name = resident_scholarch_2
						duration = -1
					}
				}
				else_if = {
					limit = { has_province_modifier = resident_scholarch_2 }
					remove_province_modifier = resident_scholarch_2		
					add_province_modifier = {
						name = resident_scholarch_3
						duration = -1
					}
				}
			}
			
			trigger_event = {
				id = "new_school.1" # This is where the philosopher finder event should go
			}

		}
	}

} 

