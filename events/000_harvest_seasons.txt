namespace = harvest

harvest.1 = { #Winter
	type = country_event	
	
	trigger = {
		NOT = { has_global_variable = harvest_winter_var }
	}	
	hidden = yes
	
	immediate = {
		set_global_variable = { name = harvest_winter_var value = 1 days = 90 }
		every_province = {
			if = {
				limit = {
					has_city_status = no
				}
				if = {
					limit = {
						OR = {
							trade_goods = grain
							trade_goods = vegetables
						}
						NOT = {
							is_in_region = lower_egypt_region
							is_in_region = mesopotamia_region
							is_in_region = madhyadesa_region
							is_in_region = pracya_region
						}
						has_city_status = no
					}
					add_province_modifier = {
						name = harvest_winter_foodgood_modifier
						duration = 91
					}
				}
				if = {
					limit = {
						trade_goods = fish
						OR = {
							AND = {
								NOT = {
									is_in_region = lower_egypt_region
									is_in_region = mesopotamia_region
									is_in_region = madhyadesa_region
									is_in_region = pracya_region
								}
							}
							AND = {
								OR = {
									is_in_region = lower_egypt_region
									is_in_region = mesopotamia_region
									is_in_region = madhyadesa_region
									is_in_region = pracya_region
								}
								terrain = desert
							}
						}
						has_city_status = no
					}
					add_province_modifier = {
						name = harvest_winter_fish_modifier
						duration = 91
					}
				}
				if = {
					limit = {
						trade_goods = cattle
						has_city_status = no
					}
					add_province_modifier = {
						name = harvest_winter_animal_modifier
						duration = 91
					}
				}
				if = {
					limit = {
						OR = {
							trade_goods = fur
							trade_goods = wild_game
						}
						has_city_status = no
					}
					add_province_modifier = {
						name = harvest_winter_animal_modifier
						duration = 91
					}
				}
				if = {
					limit = {
						NOT = {
							trade_goods = cattle
							trade_goods = fur
							trade_goods = wild_game
						}
						OR = {
							is_in_region = lower_egypt_region
							is_in_region = mesopotamia_region
							is_in_region = madhyadesa_region
							is_in_region = pracya_region
						}
						NOT = {
							terrain = desert
						}
						has_city_status = no
					}
					add_province_modifier = {
						name = harvest_winter_floodplain_modifier
						duration = 91
					}
				}
				if = {
					limit = {
						NOT = {
							trade_goods = fish
							trade_goods = grain
							trade_goods = cattle
							trade_goods = vegetables
							trade_goods = fur
							trade_goods = wild_game
						}
						OR = {
							is_in_region = lower_egypt_region
							is_in_region = mesopotamia_region
							is_in_region = madhyadesa_region
							is_in_region = pracya_region
						}
						terrain = desert
						has_city_status = no
					}
					add_province_modifier = {
						name = harvest_winter_modifier
						duration = 91
					}
				}
				if = {
					limit = {
						NOT = {
							trade_goods = fish
							trade_goods = grain
							trade_goods = cattle
							trade_goods = vegetables
							trade_goods = fur
							trade_goods = wild_game
						}
						NOT = {
							is_in_region = lower_egypt_region
							is_in_region = mesopotamia_region
							is_in_region = madhyadesa_region
							is_in_region = pracya_region
						}
						has_city_status = no
					}
					add_province_modifier = {
						name = harvest_winter_modifier
						duration = 91
					}
				}
			}
			else = {
				if = {
					limit = {
						has_city_status = yes
						terrain = plains
					}
					add_province_modifier = {
						name = harvest_winter_city_plains_modifier
						duration = 91
					}
				}
				if = {
					limit = {
						has_city_status = yes
						terrain = mountain
					}
					add_province_modifier = {
						name = harvest_winter_city_mountain_modifier
						duration = 91
					}
				}
				if = {
					limit = {
						has_city_status = yes
						terrain = hills
					}
					add_province_modifier = {
						name = harvest_winter_city_hills_modifier
						duration = 91
					}
				}
				if = {
					limit = {
						has_city_status = yes
						terrain = desert
					}
					add_province_modifier = {
						name = harvest_winter_city_desert_modifier
						duration = 91
					}
				}
				if = {
					limit = {
						has_city_status = yes
						terrain = marsh
					}
					add_province_modifier = {
						name = harvest_winter_city_marsh_modifier
						duration = 91
					}
				}
				if = {
					limit = {
						has_city_status = yes
						terrain = jungle
					}
					add_province_modifier = {
						name = harvest_winter_city_jungle_modifier
						duration = 91
					}
				}
				if = {
					limit = {
						has_city_status = yes
						terrain = farmland
					}
					add_province_modifier = {
						name = harvest_winter_city_farmland_modifier
						duration = 91
					}
				}
				if = {
					limit = {
						has_city_status = yes
						terrain = forest
					}
					add_province_modifier = {
						name = harvest_winter_city_forest_modifier
						duration = 91
					}
				}
			}
		}
	}
}

harvest.2 = { #Summer
	type = country_event	
	
	trigger = {
		NOT = { has_global_variable = harvest_summer_var }
	}	
	hidden = yes
	
	immediate = {
		set_global_variable = { name = harvest_summer_var value = 1 days = 90 }
		every_province = {
			if = {
				limit = {
					has_city_status = no
				}
				if = {
					limit = {
						OR = {
							trade_goods = grain
							trade_goods = vegetables
						}
						NOT = {
							is_in_region = lower_egypt_region
							is_in_region = mesopotamia_region
							is_in_region = madhyadesa_region
							is_in_region = pracya_region
						}
						has_city_status = no
					}
					add_province_modifier = {
						name = harvest_summer_foodgood_modifier
						duration = 95
					}
				}
				if = {
					limit = {
						trade_goods = fish
						has_city_status = no
					}
					add_province_modifier = {
						name = harvest_summer_fish_modifier
						duration = 95
					}
				}
				if = {
					limit = {
						trade_goods = cattle
						has_city_status = no
					}
					add_province_modifier = {
						name = harvest_summer_animal_modifier
						duration = 95
					}
				}
				if = {
					limit = {
						OR = {
							trade_goods = fur
							trade_goods = wild_game
						}
						has_city_status = no
					}
					add_province_modifier = {
						name = harvest_summer_wildanimal_modifier
						duration = 95
					}
				}
				if = {
					limit = {
						OR = {
							trade_goods = grain
							trade_goods = vegetables
						}
						OR = {
							is_in_region = lower_egypt_region
							is_in_region = mesopotamia_region
							is_in_region = madhyadesa_region
							is_in_region = pracya_region
						}
						NOT = {
							terrain = desert
						}
						has_city_status = no
					}
					add_province_modifier = {
						name = harvest_summer_floodplain_modifier
						duration = 95
					}
				}
				if = {
					limit = {
						NOT = {
							trade_goods = fish
							trade_goods = grain
							trade_goods = cattle
							trade_goods = vegetables
							trade_goods = fur
							trade_goods = wild_game
						}
						has_city_status = no
					}
					add_province_modifier = {
						name = harvest_summer_modifier
						duration = 95
					}
				}
			}
			else = {
				if = {
					limit = {
						has_city_status = yes
						terrain = plains
					}
					add_province_modifier = {
						name = harvest_summer_city_plains_modifier
						duration = 95
					}
				}
				if = {
					limit = {
						has_city_status = yes
						terrain = mountain
					}
					add_province_modifier = {
						name = harvest_summer_city_mountain_modifier
						duration = 95
					}
				}
				if = {
					limit = {
						has_city_status = yes
						terrain = hills
					}
					add_province_modifier = {
						name = harvest_summer_city_hills_modifier
						duration = 95
					}
				}
				if = {
					limit = {
						has_city_status = yes
						terrain = desert
					}
					add_province_modifier = {
						name = harvest_summer_city_desert_modifier
						duration = 95
					}
				}
				if = {
					limit = {
						has_city_status = yes
						terrain = marsh
					}
					add_province_modifier = {
						name = harvest_summer_city_marsh_modifier
						duration = 95
					}
				}
				if = {
					limit = {
						has_city_status = yes
						terrain = jungle
					}
					add_province_modifier = {
						name = harvest_summer_city_jungle_modifier
						duration = 95
					}
				}
				if = {
					limit = {
						has_city_status = yes
						terrain = farmland
					}
					add_province_modifier = {
						name = harvest_summer_city_farmland_modifier
						duration = 95
					}
				}
				if = {
					limit = {
						has_city_status = yes
						terrain = forest
					}
					add_province_modifier = {
						name = harvest_summer_city_forest_modifier
						duration = 95
					}
				}
			}
		}
	}
}