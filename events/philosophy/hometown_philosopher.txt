namespace = hometown_philosopher

hometown_philosopher.1 = {
	type = country_event
	title = "hometown_philosopher.1.t"
	desc = "hometown_philosopher.1.desc"
	
	left_portrait = root.current_ruler
	right_portrait = scope:returning_philosopher
	
	picture = great_city

	trigger = {
		NOT = { has_variable = hometown_philosopher_cooldown }
		country_culture_group = hellenic
	}
	
	immediate = {
		set_variable = {
			name = hometown_philosopher_cooldown
			days = 18250
		}
		
		create_character = {
			culture = root.culture
			religion = root.religion 
			save_scope_as = returning_philosopher
		}
		scope:returning_philosopher = {
			add_character_modifier ={
				name = scholarch 
				duration = -1
			}	
		}

		
		random_list = {
			10 = {
				trigger = {
					any_province = {
						OR = {
						has_province_modifier = resident_platonist_scholarch
						has_province_modifier = resident_platonist_scholarch_ath
						}
					}
				}
				set_variable = {
					name = hometown_philosopher_platonist
				}
			}
			10 = {
				trigger = {
					any_province = {
						OR = {
							has_province_modifier = resident_aristotelian_scholarch
							has_province_modifier = resident_aristotelian_scholarch_ath
						}
					}
				}
				set_variable = {
					name = hometown_philosopher_aristotelian
				}
			}
			10 = {
				trigger = {
					any_province = {
						OR = {
							has_province_modifier = resident_epicurean_scholarch
							has_province_modifier = resident_epicurean_scholarch_ath
						}
					}
				}
				set_variable = {
					name = hometown_philosopher_epicurean
				}
			}
			10 = {
				trigger = {
					any_province = {
						OR = {
							has_province_modifier = resident_stoic_scholarch
							has_province_modifier = resident_stoic_scholarch_ath
						}
					}
				}
				set_variable = {
					name = hometown_philosopher_stoic
				}
			}
			10 = {
				trigger = {
					any_province = {
						OR = {
							has_province_modifier = resident_sceptic_scholarch
							# has_province_modifier = resident_sceptic_scholarch_ath
						}
					}
				}
				set_variable = {
					name = hometown_philosopher_sceptic
				}
			}
			10 = {
				trigger = {
					any_province = {
						OR = {
							has_province_modifier = resident_academic_scholarch
							has_province_modifier = resident_academic_scholarch_ath
						}
					}
				}
				set_variable = {
					name = hometown_philosopher_academic
				}
			}
		}
	}
	
	option = {
		name = "hometown_philosopher.1.a"

		switch = {
			trigger = has_variable
			hometown_philosopher_platonist = {
				scope:returning_philosopher = {
					add_character_modifier ={
						name = platonist_cmod 
						duration = -1
					}	
				}
			}
			hometown_philosopher_aristotelian = {
				scope:returning_philosopher = {
					add_character_modifier ={
						name = peripatetic_cmod 
						duration = -1
					}	
				}
			}
			hometown_philosopher_epicurean = {
				scope:returning_philosopher = {
					add_character_modifier ={
						name = epicurean_cmod 
						duration = -1
					}	
				}
			}
			hometown_philosopher_stoic = {
				scope:returning_philosopher = {
					add_character_modifier ={
						name = stoic_cmod 
						duration = -1
					}	
				}
			}
			hometown_philosopher_sceptic = {
				scope:returning_philosopher = {
					add_character_modifier ={
						name = pyrrhonist_cmod 
						duration = -1
					}	
				}
			}
			hometown_philosopher_academic = {
				scope:returning_philosopher = {
					add_character_modifier ={
						name = academic_cmod 
						duration = -1
					}	
				}
			}
		}
	}
	
	option = {
		name = "hometown_philosopher.1.b"
	}
	
	after = {
		
		trigger_event = {
			id = hometown_philosopher.2
			days = 365
		}
	}
}

hometown_philosopher.2 = {
	type = country_event
	title = "hometown_philosopher.2.t"
	desc = "hometown_philosopher.2.desc"
	
	left_portrait = root.current_ruler
	right_portrait = scope:returning_philosopher
	
	picture = great_city
	
	immediate = {
		random_owned_province = {
			limit = {
				OR = {
					has_province_rank = city
					has_province_rank = city_metropolis
				}
			}
			save_scope_as = returning_philosopher_hometown
		}
	}
	
	option = {
		name = "hometown_philosopher.2.a"
		
		switch = {
			trigger = has_variable
			hometown_philosopher_platonist = {
				scope:returning_philosopher_hometown = {
					add_province_modifier ={
						name = resident_platonist_scholarch 
						duration = -1
					}	
				}
			}
			hometown_philosopher_aristotelian = {
				scope:returning_philosopher_hometown = {
					add_province_modifier ={
						name = resident_aristotelian_scholarch 
						duration = -1
					}	
				}
			}
			hometown_philosopher_epicurean = {
				scope:returning_philosopher_hometown = {
					add_province_modifier ={
						name = resident_epicurean_scholarch 
						duration = -1
					}	
				}
			}
			hometown_philosopher_stoic = {
				scope:returning_philosopher_hometown = {
					add_province_modifier ={
						name = resident_stoic_scholarch 
						duration = -1
					}	
				}
			}
			hometown_philosopher_sceptic = {
				scope:returning_philosopher_hometown = {
					add_province_modifier ={
						name = resident_sceptic_scholarch 
						duration = -1
					}	
				}
			}
			hometown_philosopher_academic = {
				scope:returning_philosopher_hometown = {
					add_province_modifier ={
						name = resident_academic_scholarch 
						duration = -1
					}	
				}
			}
		}
		
		add_treasury = -300
	}
	
	option = {
		name = "hometown_philosopher.2.b"
	}
	
	after = {
		switch = {
			trigger = has_variable
			hometown_philosopher_platonist = { remove_variable = hometown_philosopher_platonist }
			hometown_philosopher_aristotelian = { remove_variable = hometown_philosopher_aristotelian }
			hometown_philosopher_epicurean = { remove_variable = hometown_philosopher_epicurean }
			hometown_philosopher_stoic = { remove_variable = hometown_philosopher_stoic }
			hometown_philosopher_sceptic = { remove_variable = hometown_philosopher_sceptic }
			hometown_philosopher_academic = { remove_variable = hometown_philosopher_academic }
		}
	}
}