#AI will follow conquer missions with a highlight field set. It will hand in any task as long as the allow conditions are fulfilled, however, it will not understand especially complex triggers, especially those involving character manipulation. 

cyrene_1_academies = {
	icon = general_3
	header = mission_image_general
	
	repeatable = no

    chance = {
		factor = 50
	}

	ai_chance = { factor = 100 }

	potential = { 
		NOT = { has_variable = cyrene_1_mission_academies }
		tag = CYR
		is_subject = no
		has_civil_war = no
	}
	
	abort = {
		OR = {
			ai_mission_back_out_trigger = yes
		}
	}

    on_start = {
    	start_mission_ai_effect = yes
    	save_scope_as = academies_mission_root_scope
    }

    on_abort = {
    	custom_tooltip = general_mission_cooldown_tt
	#	set_variable = {
	#		name = cyrene_1_mission_magas
	#		days = 7300
	#		value = 1
	#	}
    }

    on_completion = {
    	complete_mission_effect = yes #
    }



	cyrene_1_academies_task_1 = { 			# Centre of Learning  (PLACEHOLDER)

		icon = task_political

		allow = {
			area:cyrenaica_superioris_area = {
				any_area_province = {
					owner = root
					num_of_library_building >= 3
					is_importing_trade_good = papyrus 
				}
			}
			
		}

		on_completion = {
			if = {
				limit = {
					char:230 = {is_alive = yes}
				}
				char:230 = {
					add_character_modifier = {
						name = cyr_cyrenaic_philosopher
						duration = -1
					}
				}
			}
			if = {
				limit = {
					char:233 = {is_alive = yes}
				}
				char:233 = {
					add_character_modifier = {
						name = cyr_cyrenaic_philosopher
						duration = -1
					}
				}
			}
			### Add Other Starting Character

		    create_character = {
		        first_name = "Eratosthenes"
		        family_name = "Eratosthenid"
		        nickname = "'Pentathlos'"
		        age = 45
		        no_stats = yes
		        no_traits=yes
		        culture = root.culture
		        religion = root.religion
		        save_scope_as = eratosthenes_scope
		    }
		    hidden_effect = {
		        scope:eratosthenes_scope = {
		            add_martial =6
		            add_charisma = 7
		            add_finesse = 12
		            add_zeal = 6
		            add_trait = scholar
		            add_trait = polymath
		            add_trait = intelligent
		            add_trait = original_thinker 
		            add_prominence = 50
		        }
		    }	

		    trigger_event = {
		    	id = cyr_academies_01.1
		    	days = {1095 2555} 		# 3 to 7 years later
		    }
		}
	}

	cyrene_1_academies_task_2 = { 			# Cyrenaic Philosophy  (PLACEHOLDER)

		icon = task_economical
		requires = {cyrene_1_academies_task_1}

		allow = {
			area:cyrenaica_superioris_area = {
				any_area_province = {
					owner = root
					num_of_academy_building >= 3
				}
			}
			
		}

		on_completion = {
			while = {
				count = 4
			    create_character = {
			        age = 35
			        culture = root.culture
			        religion = root.religion
		            add_charisma = 4
		            add_zeal = 4
			        add_trait = scholar
			        add_to_list = cyr_philosophers_list
			    }
			}
			random_in_list = {
				list = cyr_philosophers_list
				random_list = {
						33 = { add_trait = lustful }
						33 = { add_trait = secure }
						33 = { add_trait = selfish }
				}
				add_character_modifier = {
					name = cyr_cyrenaic_philosopher
					duration = -1
				}
				remove_from_list = cyr_philosophers_list
			}

			random_in_list = {
				list = cyr_philosophers_list
				random_list = {
						33 = { add_trait = self_controlled }
						33 = { add_trait = steadfast }
						33 = { add_trait = depressed }
				}
				add_character_modifier = {
					name = cyr_hegesiad_philosopher
					duration = -1
				}
				remove_from_list = cyr_philosophers_list
			}

			random_in_list = {
				list = cyr_philosophers_list
				random_list = {
						33 = { add_trait = lustful }
						33 = { add_trait = sceptical }
						33 = { add_trait = tolerant }
				}
				add_character_modifier = {
					name = cyr_theodorid_philosopher
					duration = -1
				}
				remove_from_list = cyr_philosophers_list
			}

			random_in_list = {
				list = cyr_philosophers_list
				random_list = {
						33 = { add_trait = lustful }
						33 = { add_trait = loving }
						33 = { add_trait = righteous  }
				}
				add_character_modifier = {
					name = cyr_annicerid_philosopher
					duration = -1
				}
				remove_from_list = cyr_philosophers_list
			}
			add_country_modifier = {
				name = cyr_cyrenaic_philosophy
				duration = -1
			}
		}

	}

	cyrene_1_academies_task_3 = { 			# Promote the Fine Arts (PLACEHOLDER)

		icon = task_diplomatic
		requires = {cyrene_1_academies_task_1}

		allow = {
		}

		on_completion = {
		}

	}

	cyrene_1_academies_task_4 = { 			# Cyrenaic State Philosphy (PLACEHOLDER)

		icon = task_expansion
		requires = {cyrene_1_academies_task_2}
		prevented_by = {cyrene_1_academies_task_5}
		bypass = { has_completed_mission_task = cyrene_1_academies_task_5 }

		allow = {
		}

		on_completion = {
		}
	}


	cyrene_1_academies_task_5 = { 			# A New School of Thought (PLACEHOLDER)

		icon = task_conquest
		requires = {cyrene_1_academies_task_2}
		prevented_by = {cyrene_1_academies_task_4}
		bypass = { has_completed_mission_task = cyrene_1_academies_task_4 }

		allow = {
		}

		on_completion = {
		}
	}


	cyrene_1_academies_task_6 = { 			# The Academy of Cyrene (PLACEHOLDER)

		icon = task_political
		requires = {cyrene_1_academies_task_4 cyrene_1_academies_task_5}

		allow = {
		}

		on_completion = {
		}
	}


	cyrene_1_academies_task_7 = { 			# Apollo's Gift to Cyrenaica

		icon = task_economical

		allow = {
		}

		on_completion = {
		}
	}

	cyrene_1_academies_task_8 = { 			# Promote Silphium Trade

		icon = task_economical
		requires = {cyrene_1_academies_task_7}

		allow = {
		}

		on_completion = {
		}
	}

	cyrene_1_academies_task_9 = { 			# Secure New Export Markets

		icon = task_diplomatic
		requires = {cyrene_1_academies_task_8}

		allow = {
		}

		on_completion = {
		}
	}

	cyrene_1_academies_task_10 = { 			# Intensify Silphium Exploitation

		icon = task_expansion
		requires = {cyrene_1_academies_task_8}

		allow = {
		}

		on_completion = {
		}
	}

	cyrene_1_academies_task_11 = { 			# Diversify Export Industries

		icon = task_conquest
		requires = {cyrene_1_academies_task_9}

		allow = {
		}

		on_completion = {
		}
	}

	cyrene_1_academies_task_12 = { 			# Medical Marvel 

		icon = task_economical
		requires = {cyrene_1_academies_task_10}
		prevented_by = {cyrene_1_academies_task_13}
		bypass = { has_completed_mission_task = cyrene_1_academies_task_13 }

		allow = {
		}

		on_completion = {
		}
	}

	cyrene_1_academies_task_13 = { 			# Culinary School

		icon = task_diplomatic
		requires = {cyrene_1_academies_task_10}
		prevented_by = {cyrene_1_academies_task_12}
		bypass = { has_completed_mission_task = cyrene_1_academies_task_12 }

		allow = {
		}

		on_completion = {
		}
	}

	cyrene_1_academies_task_14 = { 			# Harbour at Apollonia

		icon = task_expansion
		requires = {cyrene_1_academies_task_7}

		allow = {
		}

		on_completion = {
		}
	}


	cyrene_1_academies_task_final = { 			# Silphium Exports 

		icon = task_political
		requires = {cyrene_1_academies_task_9 cyrene_1_academies_task_12 cyrene_1_academies_task_13}
		final = yes
		
		allow = {

		}

		on_completion = {

		}
	}

}