# First schemes activates the abilities to make character reform possible.


scheme_cyrenaic = {
	
	can_be_picked = {
		scheme_preconditions_ruler = yes
		# has_variable = aspiring_epicurean
		finesse > 3
		NOR = {
			has_character_modifier = aspiring_cyrenaic_cmod
			has_character_modifier = cyrenaic_cmod
		}
	}

			
	finished_when = {
			custom_tooltip = {
			text = "scheme_ambition_fulfillment_always_yes"
			custom_tooltip = { text = "" always = no }
		}
	}
	
	abort = {
		OR = {
			NOT = {
				has_variable = ongoing_scheme_target
			}
			is_alive = no
			is_ruler = no
			has_character_modifier = indisposed_charmod
			# has_character_modifier = aspiring_epicurean_cmod
		}
	}
	
	chance = {
		base = 1
	}
		
	duration = 90
	
	on_start = scheme_cyrenaic_start
	on_finish = scheme_cyrenaic_finish
	
}


scheme_lustful = {
	
	can_be_picked = {
		scheme_preconditions_ruler = yes
		has_character_modifier = aspiring_cyrenaic_cmod
		NOT = {
			has_trait = lustful
		}
		# }
	}
			
	# finished_when = {
		# num_of_friends > 1
	# }
	
	abort = {
		OR = {
			NOT = {
				has_variable = ongoing_scheme_target
			}
			is_alive = no
			is_ruler = no
			has_character_modifier = indisposed_charmod
		}
	}
	
	chance = {
		base = 10
	}
		
	duration = 120
	
	on_start = scheme_lustful_start
	on_finish = scheme_lustful_finish
	
}


scheme_secure = {
	
	can_be_picked = {
		scheme_preconditions_ruler = yes
		has_character_modifier = aspiring_cyrenaic_cmod
		NOT = {
			has_trait = secure
		}
	}

			
	finished_when = {
		employer = {
			# count < 2
			NOT = {
				any_character = {
					loyalty < 30
				}
			}
		}
			# num_characters_below_max_loyalty = {
				# value < 2
			# }
	}
	
	abort = {
		OR = {
			NOT = {
				has_variable = ongoing_scheme_target
			}
			is_alive = no
			is_ruler = no
			has_character_modifier = indisposed_charmod
		}
	}
	
	chance = {
		base = 1
	}
		
	duration = 90
	
	on_start = scheme_secure_start
	on_finish = scheme_secure_finish
	
}


scheme_selfish = {
	
	can_be_picked = {
		scheme_preconditions_ruler = yes
		has_character_modifier = aspiring_stoic_cmod
		NOT = {
			has_trait = self_controlled
		}
	}
			
	# finished_when = {
		# wealth > 300
		# corruption < 20
	# }
	
	abort = {
		OR = {
			NOT = {
				has_variable = ongoing_scheme_target
			}
			is_alive = no
			is_ruler = no
			has_character_modifier = indisposed_charmod
		}
	}
	
	chance = {
		base = 1
	}
		
	duration = 90
	
	on_start = scheme_selfish_start
	on_finish = scheme_selfish_finish
	
}


scheme_complete_cyrenaic_training = {
	
	can_be_picked = {
		scheme_preconditions_ruler = yes
		has_character_modifier = aspiring_epicurean_cmod
		has_trait = lustful
		has_trait = seflish
		has_trait = secure
	}
			
	finished_when = {
			custom_tooltip = {
			text = "scheme_ambition_fulfillment_always_yes"
			custom_tooltip = { text = "" always = no }
		}
	}
	
	abort = {
		OR = {
			NOT = {
				has_variable = ongoing_scheme_target
			}
			is_alive = no
			is_ruler = no
			has_character_modifier = indisposed_charmod
		}
	}
	
	chance = {
		base = 10
	}
		
	duration = 30
	
	on_start = scheme_complete_cyrenaic_start
	on_finish = scheme_complete_cyrenaic_finish
		
}

scheme_abandon_cyrenaic = {
	
	can_be_picked = {
		scheme_preconditions_ruler = yes
		has_character_modifier = aspiring_cyrenaic_cmod
		has_character_modifier = cyrenaic_cmod
	}
			
	finished_when = {
			custom_tooltip = {
			text = "scheme_ambition_fulfillment_always_yes"
			custom_tooltip = { text = "" always = no }
		}
	}
	
	abort = {
		OR = {
			NOT = {
				has_variable = ongoing_scheme_target
			}
			is_alive = no
			is_ruler = no
		}
	}
	
	chance = {
		base = 1
	}
		
	duration = 30
	
	on_start = scheme_abandon_cyrenaic_start
	on_finish = scheme_abandon_cyrenaic_finish
		
}

