namespace = me_scythia_01_greek_stance

me_scythia_01_greek_stance.1 = {							# Mission start
    type = country_event
    title = me_scythia_01_greek_stance.1.t
    desc = me_scythia_01_greek_stance.1.desc
    picture = steppe_cavalry
    left_portrait = current_ruler

    trigger = { has_land = yes }

    option = {      
        name = me_scythia_01_greek_stance.1.a
        add_country_modifier = {
        	name = me_scy_1_cmod
        	duration = 7300 #20 years
        }
    }
}

me_scythia_01_greek_stance.2 = {							# Mission end
    type = country_event
    title = me_scythia_01_greek_stance.2.t
    desc = me_scythia_01_greek_stance.2.desc
    picture = diadochi_coronation
	left_portrait = current_ruler

    trigger = { has_land = yes }

    immediate = {
		add_2_free_province_investments = yes
    }

    option = {      
        name = me_scythia_01_greek_stance.2.a		
        custom_tooltip = me_scythia_01_greek_stance.2.at
    }
}

me_scythia_01_greek_stance.4 = {							# To Be or Not To Be Greek - Black Sea Slave Trade
    type = country_event
    title = me_scythia_01_greek_stance.4.t
    desc = me_scythia_01_greek_stance.4.desc
    picture = greek_marketplace
	left_portrait = current_ruler

    trigger = { has_land = yes }

    option = {      # Sell slaves for money & nobles appear in capital
        name = me_scythia_01_greek_stance.4.a
        custom_tooltip = me_scythia_01_greek_stance.4.at
		add_treasury = { 150 300 }
		hidden_effect = {
			random_owned_province = {
				random_pops_in_province = {
					if = {
						limit =-{ pop_type = slaves }
						move_pop = p:1453
					}
				}
			}
			random_owned_province = {
				random_pops_in_province = {
					if = {
						limit =-{ pop_type = slaves }
						move_pop = p:1453
					}
				}
			}
			random_owned_province = {
				random_pops_in_province = {
					if = {
						limit =-{ pop_type = slaves }
						move_pop = p:416
					}
				}
			}
			random_owned_province = {
				random_pops_in_province = {
					if = {
						limit =-{ pop_type = slaves }
						move_pop = p:416
					}
				}
			}
			random_owned_province = {
				random_pops_in_province = {
					if = {
						limit =-{ pop_type = slaves }
						move_pop = p:1774
					}
				}
			}
		}
		hidden_effect = {
			capital_scope = {
				define_pop = {
					type = noble
					culture = bosporan
					religion = roman_pantheon
				}
				define_pop = {
					type = noble
					culture = bosporan
					religion = roman_pantheon
				}
			}
		}
		hidden_effect = {
			change_variable = {
                    add = 1
                    name = "scythian_greek_stance_counter"
            }
		}
    }

	option = {      # Welcome more tribesmen
        name = me_scythia_01_greek_stance.4.b
        custom_tooltip = me_scythia_01_greek_stance.4.bt
		hidden_effect = {
			p.4533 = {
				add_province_modifier = {
					name = me_scy_1_4_pmod
					days = 3600
				}
			}
			capital_scope = {
				while = {
					count = 5
					define_pop = {
						type = tribesmen
						culture = root.culture
						religion = root.religion
					}
				}
			}
			change_variable = {
				add = -1
				name = "scythian_greek_stance_counter"
			}
		}
    }
}

me_scythia_01_greek_stance.5 = {							# To Be or Not To Be Greek - Bacchic Rites
    type = country_event
    title = me_scythia_01_greek_stance.5.t
    desc = me_scythia_01_greek_stance.5.desc
    picture = religious_rite
	left_portrait = current_ruler

    trigger = { owns = 7187 }

    option = {      # Convert pops and move pops within Scythia
        name = me_scythia_01_greek_stance.5.a
        custom_tooltip = me_scythia_01_greek_stance.5.at
		hidden_effect = {
			p.7187 = {
				define_pop = {
					type = citizen
					culture = root.culture
					religion = roman_pantheon
				}
				define_pop = {
					type = citizen
					culture = root.culture
					religion = roman_pantheon
				}
				add_province_modifier = {
					name = me_scy_1_5a_pmod
					days = 3600
				}
			}
			capital_scope = {
				random_pops_in_province = {
					while = {
						count = 3
						if = {
							limit = { pop_type = citizen }
							set_pop_religion = roman_pantheon
							move_pop = p:7187
						}
						else_if = {
							limit = { pop_type = freemen }
							set_pop_type = citizen
							set_pop_religion = roman_pantheon
							move_pop = p:7187
						}
					}
				}
			}
		}
		hidden_effect = {
			change_variable = {
                    add = 1
                    name = "scythian_greek_stance_counter"
            }
		}
    }

	option = {      # Hellenic pops leave Scythia
        name = me_scythia_01_greek_stance.5.b
        custom_tooltip = me_scythia_01_greek_stance.5.bt
		hidden_effect = {
			p.4533 = {
				add_province_modifier = {
					name = me_scy_1_5b_pmod
					days = 3600
				}
			}
			capital_scope = {
				random_pops_in_province = {
					while = {
						count = 3
						if = {
							limit = { pop_type = citizen }
							set_pop_religion = roman_pantheon
							move_pop = p:4529
						}
						else_if = {
							limit = { pop_type = freemen }
							set_pop_type = citizen
							set_pop_religion = roman_pantheon
							move_pop = p:4529
						}
					}
				}
			}
			change_variable = {
				add = -1
				name = "scythian_greek_stance_counter"
			}
		}
    }
}

me_scythia_01_greek_stance.6 = {							# To Be or Not To Be Greek - Heraklean Targitaos
    type = country_event
    title = me_scythia_01_greek_stance.6.t
    desc = me_scythia_01_greek_stance.6.desc
    picture = religious_rite
	left_portrait = current_ruler
	right_portrait = current_magistrate # Pic of current office_magistrate

    trigger = { owns = 7191 }

    option = {      # Embrace syncretic god Heraklean Targitaos
        name = me_scythia_01_greek_stance.6.a
        custom_tooltip = me_scythia_01_greek_stance.6.at
		hidden_effect = {
			set_variable = {
				name = deity_unlocked_heraklean_targitaos
				days = -1
			}
			p.7191 = {
				add_province_modifier = {
					name = me_scy_1_6a_pmod
					days = 3600
				}
				set_province_deity = deity:omen_heraklean_targitaos
			}
		}
		hidden_effect = {
			change_variable = {
                add = 1
                name = "scythian_greek_stance_counter"
            }
		}
    }

	option = {      # Raid the new cult
        name = me_scythia_01_greek_stance.6.b
        custom_tooltip = me_scythia_01_greek_stance.6.bt
		hidden_effect = {
			add_treasury = 150
			p.7191 = {
				add_province_modifier = {
					name = me_scy_1_6b_pmod
					days = 3600
				}
			}
			change_variable = {
				add = -1
				name = "scythian_greek_stance_counter"
			}
		}
    }
}

me_scythia_01_greek_stance.10 = {							#	Bonds With Tyras - Scythia Start
    type = country_event
    title = me_scythia_01_greek_stance.10.t
    desc = me_scythia_01_greek_stance.10.desc
    picture = greek_city
	goto_location = p:4525
    left_portrait = current_ruler
    right_portrait = scope:c:TYS.current_ruler

    trigger = { 
		has_land = yes
		exists = c:TYS
 	}

    option = {      # Alliance
        name = me_scythia_01_greek_stance.10.a
        custom_tooltip = me_scythia_01_greek_stance.10.at
		current_ruler = { add_popularity = popularity_small  }
		hidden_effect = {
			reverse_add_opinion = {
				target = scope:c:TYS
				modifier = me_scy_01_diplo_largepos_opmod		### need to write
			}
			scope:me_scythia_scope = {
				add_alliance = {
					target = c:TYS
				}
			}
		}
    }

	option = {      # Client State
		name = me_scythia_01_greek_stance.10.b
		custom_tooltip = me_scythia_01_greek_stance.10.bt
		current_ruler = { add_popularity = popularity_large  }
		add_treasury = -200
		hidden_effect = {
			reverse_add_opinion = {
				target = scope:c:TYS
				modifier = me_scy_01_diplo_smallpos_opmod		### need to write
			}
			scope:me_scythia_scope = {
				make_subject = {
					target = c:TYS
					type = client_state
				}
			}
		}
	}
	
	###		How does this work in multiplayer? Shouldn't Players get a chance to reject offer?
}

me_scythia_01_greek_stance.11 = {							#	Bonds With Olbia - Scythia Start
    type = country_event
    title = me_scythia_01_greek_stance.11.t
    desc = me_scythia_01_greek_stance.11.desc
    picture = greek_city
	goto_location = p:4529
    left_portrait = current_ruler
    right_portrait = scope:c:OLB.current_ruler

    trigger = { 
		has_land = yes
		exists = c:OLB
 	}

    option = {      # 
        name = me_scythia_01_greek_stance.11.a
        custom_tooltip = me_scythia_01_greek_stance.11.at
		current_ruler = { add_popularity = popularity_small  }
		add_treasury = 100 # note: this is not actually scaling to the actual number of slaves moving
		hidden_effect = {
			reverse_add_opinion = {
				target = scope:c:OLB
				modifier = me_scy_01_diplo_largepos_opmod		### need to write
			}
			scope:me_scythia_scope = {
				add_alliance = {
					target = c:OLB
				}
			}
			capital_scope = {
				while = {
					count = 4
					limit = {
						num_of_slaves > 0
					}
					random_pops_in_province = {
						limit = {
							pop_type = slaves
						}
						move_pop = p:4529
					}
				}
			}
			scope:c:OLB = {
				add_treasury = -100
			}
		}
    }

	option = {      # 
		name = me_scythia_01_greek_stance.11.b
		custom_tooltip = me_scythia_01_greek_stance.11.bt
		current_ruler = { add_popularity = popularity_large  }
		add_treasury = -200
		hidden_effect = {
			reverse_add_opinion = {
				target = scope:c:OLB
				modifier = me_scy_01_diplo_smallpos_opmod		### need to write
			}
			scope:me_scythia_scope = {
				make_subject = {
					target = c:OLB
					type = client_state
				}
			}
			p:4529 = {
				add_building_level = commerce_building
				add_building_level = court_building
			}
			create_character = {
				add_finesse = 3
				add_charisma = 3
				add_zeal = 3
				add_trait = wise
				add_trait = scholar
				set_culture = bosporan
			}
		}
	}
	
	###		How does this work in multiplayer? Shouldn't Players get a chance to reject offer?
}

me_scythia_01_greek_stance.12 = {							#	Bonds With Chersonesus - Scythia Start
    type = country_event
    title = me_scythia_01_greek_stance.12.t
    desc = me_scythia_01_greek_stance.12.desc
    picture = greek_city
	goto_location = p:4538
    left_portrait = current_ruler
    right_portrait = scope:c:CHS.current_ruler

    trigger = { 
		has_land = yes
		exists = c:CHS
 	}

    option = {      # 
        name = me_scythia_01_greek_stance.12.a
        custom_tooltip = me_scythia_01_greek_stance.12.at
		current_ruler = { add_popularity = popularity_small  }
		reverse_add_opinion = {
			target = scope:c:CHS
			modifier = me_scy_01_diplo_largepos_opmod		### need to write
        }
		scope:me_scythia_scope = {
			add_alliance = {
				target = c:CHS
			}
		}
		add_manpower = -2
		hidden_effect = {
			p:4547 = {
				add_province_modifier = {
					name = me_scy_1_12_pmod		### need to write
        			duration = -1
				}
			}
			p:4534 = {
				add_province_modifier = {
					name = me_scy_1_12_pmod		### need to write
        			duration = -1
				}
			}
			p:4535 = {
				add_province_modifier = {
					name = me_scy_1_12_pmod		### need to write
        			duration = -1
				}
			}
			p:4536 = {
				add_province_modifier = {
					name = me_scy_1_12_pmod		### need to write
        			duration = -1
				}
			}
		}
    }

	option = {      # 
		name = me_scythia_01_greek_stance.12.b
		custom_tooltip = me_scythia_01_greek_stance.12.bt
		current_ruler = { add_popularity = popularity_large  }
		add_treasury = -600
		reverse_add_opinion = {
			target = scope:c:CHS
			modifier = me_scy_01_diplo_smallpos_opmod		### need to write
		}
		scope:me_scythia_scope = {
			make_subject = {
				target = c:CHS
				type = client_state
			}
		}
		hidden_effect = {
			p:4529 = {
				add_building_level = commerce_building
				add_building_level = court_building
			}
			
		}
	}
	
	###		How does this work in multiplayer? Shouldn't Players get a chance to reject offer?
}

# me_scythia_01_greek_stance.13 = { # Tyras Ping
# me_scythia_01_greek_stance.14 = { # Oblia Ping
# me_scythia_01_greek_stance.15 = { # Chersonesus Ping
# me_scythia_01_greek_stance.16 = { # Tyras Response
# me_scythia_01_greek_stance.17 = { # Olbia Response
# me_scythia_01_greek_stance.18 = { # Chersonesus Response

# me_scythia_01_greek_stance.20 = { # Bosporan Kingdom Start
# me_scythia_01_greek_stance.21 = { # Bosporan Kingdom Ping
# me_scythia_01_greek_stance.22 = { # Bosporan Kingdom Response

# me_scythia_01_greek_stance.25 = { # Scythian Pentapolis Start
# me_scythia_01_greek_stance.26 = { # Scythian Pentapolis End
# me_scythia_01_greek_stance.27 = { # Abandon Tribal Ways

# me_scythia_01_greek_stance.28 = { # Invite the Greeks Start
# me_scythia_01_greek_stance.29 = { # Invite the Greeks End

# me_scythia_01_greek_stance.30 = { # Embrace Hellenism - Disgruntled Priest
# me_scythia_01_greek_stance.31 = { # Embrace Hellenism - A Private Confession
# me_scythia_01_greek_stance.32 = { # Embrace Hellenism - Making a Big Scene
# me_scythia_01_greek_stance.33 = { # Embrace Hellenism - A Daring Attempt
# me_scythia_01_greek_stance.34 = { # Embrace Hellenism - An Enternal Slumber
# me_scythia_01_greek_stance.35 = { # Embrace Hellenism - A Long Farewell
# me_scythia_01_greek_stance.39 = { # Embrace Hellenism - End

# me_scythia_01_greek_stance.40 = { # A Greek Heritage
	#notes set_province_deity = XYZ is how to create a holy site

# me_scythia_01_greek_stance.41 = { # Hold Euxinus Games - The Euxinus Games
# me_scythia_01_greek_stance.42 = { # Hold Euxinus Games - Atheletes Arrive
# me_scythia_01_greek_stance.43 = { # Hold Euxinus Games - Invitation to the Euxinus Games
# me_scythia_01_greek_stance.44 = { # Hold Euxinus Games - The Euxinus Games Have Concluded
# me_scythia_01_greek_stance.45 = { # Hold Euxinus Games - The Euxinus Games Have Been Won
# me_scythia_01_greek_stance.46 = { # Hold Euxinus Games - Our Euxinus Games Have Concluded

# me_scythia_01_greek_stance.49 = { # Crown The Basileus


# me_scythia_01_greek_stance.50 = { # They Will Die Start
# me_scythia_01_greek_stance.51 = { # They Will Die End
# me_scythia_01_greek_stance.52 = { # Sacrifice The Greeks
# me_scythia_01_greek_stance.53 = { # They Are Beneath Us - Scythia
# me_scythia_01_greek_stance.54 = { # They Are Beneath Us - Ping
# me_scythia_01_greek_stance.55 = { # Shouldering The Tyras
# me_scythia_01_greek_stance.56 = { # The Taurian Cliffs
# me_scythia_01_greek_stance.57 = { # They Can Only Be Slaves
# me_scythia_01_greek_stance.58 = { # The Great Horde

# me_scythia_01_greek_stance.60 = { # Unlikely Allies - Sindica Start
# me_scythia_01_greek_stance.61 = { # Unlikely Allies - Maoetia Start
# me_scythia_01_greek_stance.62 = { # Unlikely Allies - Tyrgetae Start
# me_scythia_01_greek_stance.63 = { # Unlikely Allies - End
# me_scythia_01_greek_stance.64 = { # Unlikely Allies - Sindica Ping
# me_scythia_01_greek_stance.65 = { # Unlikely Allies - Sindica Response
# me_scythia_01_greek_stance.66 = { # Unlikely Allies - Maoetia Ping
# me_scythia_01_greek_stance.67 = { # Unlikely Allies - Maoetia Response
# me_scythia_01_greek_stance.68 = { # Unlikely Allies - Tyrgetae Ping
# me_scythia_01_greek_stance.69 = { # Unlikely Allies - Tyrgetae Response

# me_scythia_01_greek_stance.75 = { # The Cimmerian Bosporus - Scythia
# me_scythia_01_greek_stance.76 = { # The Cimmerian Bosporus - Spartocid Bloodline
# me_scythia_01_greek_stance.77 = { # Burn Their Cities
# me_scythia_01_greek_stance.78 = { # Unify The Scythian People

# me_scythia_01_greek_stance.80 = { # Hold Targitaoan Games - The Targitaoan Games
# me_scythia_01_greek_stance.81 = { # Hold Targitaoan Games - Atheletes Arrive
# me_scythia_01_greek_stance.82 = { # Hold Targitaoan Games - Invitation to the Targitaoan Games
# me_scythia_01_greek_stance.83 = { # Hold Targitaoan Games - The Targitaoan Games Have Concluded
# me_scythia_01_greek_stance.84 = { # Hold Targitaoan Games - The Targitaoan Games Have Been Won
# me_scythia_01_greek_stance.85 = { # Hold Targitaoan Games - Our Targitaoan Games Have Concluded


# me_scythia_01_greek_stance.89 = { # A Second Golden Age
	#Note: this mission should block the tribal reform mission from being selected.


# me_scythia_01_greek_stance.100 = { # Ready The Horse Lords - start
# me_scythia_01_greek_stance.101 = { # Ready The Horse Lords - end
# me_scythia_01_greek_stance.104 = { # Man The Walls
# me_scythia_01_greek_stance.108 = { # From Our Palms
# me_scythia_01_greek_stance.112 = { # Luxuries Are Necessities