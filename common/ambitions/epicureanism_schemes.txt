# First schemes activates the abilities to make character reform possible.


scheme_epicureanism = {
	
	can_be_picked = {
		scheme_preconditions_ruler = yes
		# has_variable = aspiring_epicurean
		finesse > 3
		NOR = {
			has_character_modifier = aspiring_epicurean_cmod
			has_character_modifier = epicurean_cmod
		}
	}

			
	finished_when = {
			custom_tooltip = {
			text = "scheme_ambition_fulfillment_always_yes"
			custom_tooltip = { text = "" always = no }
		}
	}
	
	abort = {
		OR = {
			NOT = {
				has_variable = ongoing_scheme_target
			}
			is_alive = no
			is_ruler = no
			has_character_modifier = indisposed_charmod
			# has_character_modifier = aspiring_epicurean_cmod
		}
	}
	
	chance = {
		base = 1
	}
		
	duration = 90
	
	on_start = scheme_epicureanism_start
	on_finish = scheme_epicureanism_finish
	
}


scheme_good_natured = {
	
	can_be_picked = {
		scheme_preconditions_ruler = yes
		has_character_modifier = aspiring_epicurean_cmod
		NOT = {
			has_trait = good_natured
		}
		# }
	}

			
	finished_when = {
		num_of_friends > 1
	}
	
	abort = {
		OR = {
			NOT = {
				has_variable = ongoing_scheme_target
			}
			is_alive = no
			is_ruler = no
			has_character_modifier = indisposed_charmod
		}
	}
	
	chance = {
		base = 10
	}
		
	duration = 120
	
	on_start = scheme_good_natured_start
	on_finish = scheme_good_natured_finish
	
}


scheme_tolerant = {
	
	can_be_picked = {
		scheme_preconditions_ruler = yes
		has_character_modifier = aspiring_epicurean_cmod
		NOT = {
			has_trait = tolerant
		}
	}

			
	finished_when = {
		employer = {
			OR = {
				has_country_modifier = extended_inheritance_right
				has_country_modifier = extended_contract_rights
				has_country_modifier = extended_torture_protection
				has_country_modifier = extended_right_of_marriage
				has_country_modifier = extended_officer_right
				has_country_modifier = number_of_integrating_cultures #{
					# name = number_of_integrating_cultures
					# value >= 1
				# }
				# has_law = increased_citizenship_quotas
				# has_law = republic_corruption_2
				# has_law = lex_plautia_papiria
				# current_ruler = {
					# OR = {
						# party = democratic_party
						# party = oligarchic_party
					# }
				# }
			}
		}
	}
	
	abort = {
		OR = {
			NOT = {
				has_variable = ongoing_scheme_target
			}
			is_alive = no
			is_ruler = no
			has_character_modifier = indisposed_charmod
		}
	}
	
	chance = {
		base = 10
	}
		
	duration = 120
	
	on_start = scheme_tolerant_start
	on_finish = scheme_tolerant_finish
	
	
}


scheme_lapsed = {
	
	can_be_picked = {
		scheme_preconditions_ruler = yes
		has_character_modifier = aspiring_epicurean_cmod
		NOT = {
			has_trait = lapsed
		}
	}

			
	finished_when = {
		employer = {
			# has_country_modifier = country_diminishment_oracle_of_delphi
			has_any_omen = no
			NOT = {
				has_country_modifier = we_reducing
				has_country_modifier = stability_investment
			}
		}
	}
	
	abort = {
		OR = {
			NOT = {
				has_variable = ongoing_scheme_target
			}
			is_alive = no
			is_ruler = no
			has_character_modifier = indisposed_charmod
		}
	}
	
	chance = {
		base = 1
	}
		
	duration = 120
	
	on_start = scheme_lapsed_start
	on_finish = scheme_lapsed_finish
	
}



scheme_complete_epic_training = {
	
	can_be_picked = {
		scheme_preconditions_ruler = yes
		has_character_modifier = aspiring_epicurean_cmod
		has_trait = good_natured
		has_trait = tolerant
		has_trait = lapsed
	}
			
	finished_when = {
			custom_tooltip = {
			text = "scheme_ambition_fulfillment_always_yes"
			custom_tooltip = { text = "" always = no }
		}
	}
	
	abort = {
		OR = {
			NOT = {
				has_variable = ongoing_scheme_target
			}
			is_alive = no
			is_ruler = no
			has_character_modifier = indisposed_charmod
		}
	}
	
	chance = {
		base = 10
	}
		
	duration = 30
	
	on_start = scheme_complete_epic_start
	on_finish = scheme_complete_epic_finish
		
}

scheme_abandon_epicureanism = {
	
	can_be_picked = {
		scheme_preconditions_ruler = yes
		has_character_modifier = aspiring_epicurean_cmod
		has_character_modifier = epicurean_cmod
	}
			
	finished_when = {
			custom_tooltip = {
			text = "scheme_ambition_fulfillment_always_yes"
			custom_tooltip = { text = "" always = no }
		}
	}
	
	abort = {
		OR = {
			NOT = {
				has_variable = ongoing_scheme_target
			}
			is_alive = no
			is_ruler = no
		}
	}
	
	chance = {
		base = 1
	}
		
	duration = 30
	
	on_start = scheme_abandon_epic_start
	on_finish = scheme_abandon_epic_finish
		
}

