# First schemes activates the abilities to make character reform possible.


scheme_platonism = {
	
	can_be_picked = {
		scheme_preconditions_ruler = yes
		# has_variable = aspiring_epicurean
		finesse > 3
		NOT = {
			has_character_modifier = aspiring_platonist_cmod
			has_character_modifier = platonist_cmod
		}
	}

	finished_when = {
			custom_tooltip = {
			text = "scheme_ambition_fulfillment_always_yes"
			custom_tooltip = { text = "" always = no }
		}
	}
	
	abort = {
		OR = {
			NOT = {
				has_variable = ongoing_scheme_target
			}
			is_alive = no
			is_ruler = no
			has_character_modifier = indisposed_charmod
			# has_character_modifier = epicurean_initiate
		}
	}
	
	chance = {
		base = 1
	}
		
	duration = 90
	
	on_start = scheme_platonism_start
	on_finish = scheme_platonism_finish
	
}


scheme_devout = {
	
	can_be_picked = {
		scheme_preconditions_ruler = yes
		has_character_modifier = aspiring_platonist_cmod
		NOT = {
			has_trait = devout
		}
	}
			
	finished_when = {
		employer = {
			# idea = idea_mandate_observe 
			# has_country_modifier = we_reducing
			# has_country_modifier = stability_investment
			# idea = idea_mandate_observe # Only if religious advances > 8
			has_country_modifier = stability_investment
			trigger_if = {
				limit = {
					has_war_exhaustion > 0
				}
				has_country_modifier = we_reducing
			}
		}

	}
	
	abort = {
		OR = {
			NOT = {
				has_variable = ongoing_scheme_target
			}
			is_alive = no
			is_ruler = no
			has_character_modifier = indisposed_charmod
		}
	}
	
	chance = {
		base = 1
	}
		
	duration = 90
	
	on_start = scheme_devout_start
	on_finish = scheme_devout_finish
	
}


# scheme_intelligent = {
	
	# can_be_picked = {
		# scheme_preconditions_ruler = yes
		# has_character_modifier = aspiring_platonist_cmod
		# NOT = {
			# has_trait = intelligent
		# }
	# }

			
	# finished_when = {
			# custom_tooltip = {
			# text = "scheme_ambition_fulfillment_always_yes"
			# custom_tooltip = { text = "" always = no }
		# }
	# }
	
	# abort = {
		# OR = {
			# NOT = {
				# has_variable = ongoing_scheme_target
			# }
			# is_alive = no
			# is_ruler = no
			# has_character_modifier = indisposed_charmod
		# }
	# }
	
	# chance = {
		# base = 1
	# }
		
	# duration = 30
	
	# on_start = scheme_intelligent_start
	# on_finish = scheme_intelligent_finish
	
# }


# scheme_pious = {
	
	# can_be_picked = {
		# scheme_preconditions_ruler = yes
		# has_character_modifier = aspiring_platonist_cmod
		# NOT = {
			# has_trait = pious
		# }
	# }

			
	# finished_when = {
		# employer = {
			# has_modifier = country_diminishment_oracle_of_delphi
		# }
	# }
	
	# abort = {
		# OR = {
			# NOT = {
				# has_variable = ongoing_scheme_target
			# }
			# is_alive = no
			# is_ruler = no
			# has_character_modifier = indisposed_charmod
		# }
	# }
	
	# chance = {
		# base = 1
	# }
		
	# duration = 100
	
	# on_start = scheme_pious_start
	# on_finish = scheme_pious_finish
	
# }

scheme_righteous = {
	
	can_be_picked = {
		scheme_preconditions_ruler = yes
		has_character_modifier = aspiring_platonist_cmod
		NOT = {
			has_trait = righteous
		}
	}

			
	finished_when = {
		employer = {
			war = no
			has_law = republic_corruption_2
		}
	}
	
	abort = {
		OR = {
			NOT = {
				has_variable = ongoing_scheme_target
			}
			is_alive = no
			is_ruler = no
			has_character_modifier = indisposed_charmod
		}
	}
	
	chance = {
		base = 1
	}
		
	duration = 90
	
	on_start = scheme_righteous_start
	on_finish = scheme_righteous_finish
	
}

scheme_wise = {
	
	can_be_picked = {
		scheme_preconditions_ruler = yes
		has_character_modifier = aspiring_platonist_cmod
		NOT = {
			has_trait = wise
		}
	}

			
	finished_when = {
		employer = {
			capital_scope = {
				# has_building = library_building
				num_of_library_building >= 2
			}
		}
	}
	
	abort = {
		OR = {
			NOT = {
				has_variable = ongoing_scheme_target
			}
			is_alive = no
			is_ruler = no
			has_character_modifier = indisposed_charmod
		}
	}
	
	chance = {
		base = 1
	}
		
	duration = 90
	
	on_start = scheme_wise_start
	on_finish = scheme_wise_finish
	
}


scheme_complete_platonism_training = {
	
	can_be_picked = {
		scheme_preconditions_ruler = yes
		has_character_modifier = aspiring_platonist_cmod
		has_trait = devout
		# has_trait = intelligent
		# has_trait = pious
		has_trait = righteous
		has_trait = wise
	}
			
	finished_when = {
			custom_tooltip = {
			text = "scheme_ambition_fulfillment_always_yes"
			custom_tooltip = { text = "" always = no }
		}
	}
	
	abort = {
		OR = {
			NOT = {
				has_variable = ongoing_scheme_target
			}
			is_alive = no
			is_ruler = no
			has_character_modifier = indisposed_charmod
		}
	}
	
	chance = {
		base = 1
	}
		
	duration = 90
	
	on_start = scheme_complete_platonism_start
	on_finish = scheme_complete_platonism_finish
		
}


scheme_abandon_platonism = {
	
	can_be_picked = {
		scheme_preconditions_ruler = yes
		OR = {
			has_character_modifier = aspiring_platonist_cmod
			has_character_modifier = platonist_cmod
		}

	}
			
	finished_when = {
			custom_tooltip = {
			text = "scheme_ambition_fulfillment_always_yes"
			custom_tooltip = { text = "" always = no }
		}
	}
	
	abort = {
		OR = {
			NOT = {
				has_variable = ongoing_scheme_target
			}
			is_alive = no
			is_ruler = no
		}
	}
	
	chance = {
		base = 1
	}
		
	duration = 30
	
	on_start = scheme_abandon_platonism_start
	on_finish = scheme_abandon_platonism_finish
		
}

